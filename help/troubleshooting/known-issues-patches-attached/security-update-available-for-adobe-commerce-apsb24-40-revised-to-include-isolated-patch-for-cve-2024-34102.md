---
title: Sicherheitsupdate für Adobe Commerce - [!DNL APSB24-40]
promoted: true
description: Wenden Sie einen Hotfix und Patch an, um [!DNL CVE-2024-34102] für Adobe Commerce 2.4.4-p8, 2.4.5-p7, 2.4.6-p5, 2.4.7 und frühere Versionen zu beheben.
feature: Compliance, Security
role: Developer
exl-id: b6f4a26f-a6cf-4ced-841e-a579c8e0f8f4
source-git-commit: 0f8744ceec118aa14632a3678d0262b3e730883d
workflow-type: tm+mt
source-wordcount: '803'
ht-degree: 0%

---

# Sicherheitsupdate für Adobe Commerce - [!DNL APSB24-40]

>[!NOTE]
>
>**Dies ist eine dringende Aktualisierung im Zusammenhang mit [!DNL CVE-2024-34102]. Adobe ist sich bewusst, dass [!DNL CVE-2024-34102] in der Wildnis bei sehr begrenzten Angriffen auf Adobe Commerce-Händler ausgenutzt wurde.

Am 17. Juli 2024 haben wir zusätzlich zur Sicherheits-Update-Version vom 11. Juni 2024 und/oder dem am 28. Juni 2024 veröffentlichten isolierten Patch einen [!DNL hotfix] veröffentlicht.

**Überprüfen Sie alle Produktions- und Nicht-Produktionsumgebungen, um sicherzustellen, dass Ihr Store auf allen Instanzen vollständig gepatcht ist.  Bitte ergreifen Sie <u>sofortige Aktion</u>, um die Schwachstelle zu beheben.**

>[!NOTE]
>
>**Nur für Adobe Commerce auf Cloud-Händlern**:<br><br>1. Stellen Sie sicher, dass Sie die neueste Version von [!DNL ECE Tools] verwenden. Ist dies nicht der Fall, aktualisieren Sie (oder überspringen Sie auf Artikel 2). Um Ihre vorhandene Version zu überprüfen, führen Sie folgenden Befehl aus:`composer show magento/ece-tools`<br>2. Wenn Sie bereits die neueste Version von [!DNL ECE Tools] verwenden, überprüfen Sie, ob die Datei `op-exclude.txt` vorhanden ist. Führen Sie dazu den folgenden Befehl aus:`ls op-exclude.txt`. Wenn diese Datei nicht vorhanden ist, fügen Sie https://github.com/magento/magento-cloud/blob/master/op-exclude.txt zu Ihrem Repo hinzu, übernehmen Sie dann die Änderung und stellen Sie sie erneut bereit.<br>3. Ohne Aktualisierung von [!DNL ECE Tools] können Sie auch einfach https://github.com/magento/magento-cloud/blob/master/op-exclude.txt in Ihrem Repo hinzufügen/ändern, die Änderung dann übernehmen und erneut bereitstellen.

## Option 1 - Für Händler, die <u>nicht</u> die Sicherheitsaktualisierung vom 11. Juni 2024 angewendet haben, noch den am 28. Juni 2024 veröffentlichten Einzelpatch

1. Wenden Sie [!DNL hotfix] an, das am 17. Juli 2024 veröffentlicht wurde.
1. Wenden Sie den Sicherheits-Patch an.
1. Aktivieren Sie [!UICONTROL maintenance mode].
1. Deaktivieren Sie die Ausführung von [!DNL cron] (Befehl &quot;Commerce on Cloud&quot;: `vendor/bin/ece-tools cron:disable`).
1. [Drehen Sie Ihre [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key).
1. Leeren Sie den Cache.
1. Aktivieren Sie die Ausführung von [!DNL cron] (Befehl Commerce on Cloud: `vendor/bin/ece-tools cron:enable`).
1. Deaktivieren Sie [!UICONTROL maintenance mode].

ODER

1. Wenden Sie das isolierte Pflaster an. **<u>HINWEIS</u>: Diese Version des isolierten Patches enthält den darin enthaltenen 17. Juli 2024, [!DNL hotfix].**
1. Aktivieren Sie [!UICONTROL maintenance mode].
1. Deaktivieren Sie die Ausführung von [!DNL cron] (Befehl &quot;Commerce on Cloud&quot;: `vendor/bin/ece-tools cron:disable`).
1. [Drehen Sie Ihre [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key).
1. Leeren Sie den Cache.
1. Aktivieren Sie die Ausführung von [!DNL cron] (Befehl Commerce on Cloud: `vendor/bin/ece-tools cron:enable`).
1. Deaktivieren Sie [!UICONTROL maintenance mode].

## Option 2 - Für Händler, die <u>bereits</u> die Sicherheitsaktualisierung vom 11. Juni 2024 angewendet haben, und/oder den am 28. Juni 2024 veröffentlichten isolierten Patch

1. Wenden Sie [!DNL hotfix] an, das am 17. Juli 2024 veröffentlicht wurde.
1. Aktivieren Sie [!UICONTROL maintenance mode].
1. Deaktivieren Sie die Ausführung von [!DNL cron] (Befehl &quot;Commerce on Cloud&quot;: `vendor/bin/ece-tools cron:disable`).
1. [Drehen Sie Ihre [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key).
1. Leeren Sie den Cache.
1. Aktivieren Sie die Ausführung von [!DNL cron] (Befehl Commerce on Cloud: `vendor/bin/ece-tools cron:enable`).
1. Deaktivieren Sie [!UICONTROL maintenance mode].

## Option 3 - Für Händler, die <u>bereits</u> (1) das Sicherheitsupdate vom 11. Juni 2024 angewendet haben, und/oder (2) den am 28. Juni 2024 veröffentlichten isolierten Patch und (3) Ihre Verschlüsselungsschlüssel rotiert haben

* Wenden Sie den am 17. Juli 2024 veröffentlichten [Hotfix](#hotfix) an.


>[!NOTE]
>
>Um sicherzustellen, dass Sie nach dem Upgrade weiterhin sicher sind, müssen Sie auch **[Ihre [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key)**:<br><br>1 drehen. Aktivieren Sie [!UICONTROL maintenance mode].<br>2. Deaktivieren Sie die Ausführung von [!DNL cron] (Befehl &quot;Commerce on Cloud&quot;: `vendor/bin/ece-tools cron:disable`).<br>3. Drehen Sie Ihre [!DNL encryption keys].<br>4. Aktivieren Sie die Ausführung von [!DNL cron] (Befehl Commerce on Cloud: `vendor/bin/ece-tools cron:enable`).<br>5. Deaktivieren Sie [!UICONTROL maintenance mode].

In diesem Artikel erfahren Sie, wie Sie den isolierten Patch für dieses Problem für die aktuellen und früheren Versionen von Adobe Commerce und Magento Open Source implementieren.
**<u>HINWEIS</u>: Diese Version des isolierten Patches enthält den darin enthaltenen 17. Juli 2024, [!DNL hotfix].**

## Betroffene Produkte und Versionen

Adobe Commerce on Cloud, Adobe Commerce On-Premise und Magento Open Source:

* 2.4.7-p1 und früher
* 2.4.6-p6 und früher
* 2.4.5-p8 und früher
* 2.4.4-p9 und früher

## Lösung für Adobe Commerce on Cloud, Adobe Commerce On-Premise-Software und Magento Open Source

Um die Sicherheitslücke für die betroffenen Produkte und Versionen zu beheben, müssen Sie den [!DNL VULN-27015]-Patch (je nach Version) anwenden und Ihren [!UICONTROL encryption keys] drehen.

## Hotfix-Details {#hotfix}

* Laden Sie [!DNL Hotfix] [AC-12485_Hotfix_COMPOSER_patch.zip](assets/AC-12485_Hotfix_COMPOSER_patch.zip) herunter.

## Details zum isolierten Patch

**<u>HINWEIS</u>: Diese Version des isolierten Patches enthält den darin enthaltenen 17. Juli 2024, [!DNL hotfix].**

Verwenden Sie die folgenden angehängten Patches je nach Adobe Commerce-/Magento Open Source-Version:

### Für Version 2.4.7:

* [VULN-27015-2.4.7x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.7x_v2_COMPOSER_patch.zip)

### Für Versionen 2.4.6, 2.4.6-p1, 2.4.6-p2, 2.4.6-p3, 2.4.6-p4, 2.4.6-p5:

* [VULN-27015-2.4.6x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.6x_v2_COMPOSER_patch.zip)

### Für Versionen 2.4.5, 2.4.5-p1, 2.4.5-p2, 2.4.5-p3, 2.4.5-p4, 2.4.5-p5, 2.4.5-p6, 2.4.5-p7:

* [VULN-27015-2.4.5x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.5x_v2_COMPOSER_patch.zip)

### Für die Versionen 2.4.4, 2.4.4-p1, 2.4.4-p2, 2.4.4-p3, 2.4.4-p4, 2.4.4-p5, 2.4.4-p6, 2.4.4-p7, 2.4.4-p8:

* [VULN-27015-2.4.4x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.4x_v2_COMPOSER_patch.zip)


## Anwenden des isolierten Pflasters und des [!DNL hotfix]

Entpacken Sie die Datei und finden Sie Anweisungen unter [Anwenden eines von Adobe](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/how-to/how-to-apply-a-composer-patch-provided-by-magento.html) bereitgestellten Composer-Patches in unserer Support-Wissensdatenbank.

## Nur für Adobe Commerce on Cloud-Händler - Anleitung zum Ermitteln, ob die isolierten Patches angewendet wurden

Da es nicht einfach zu überprüfen ist, ob das Problem gepatcht wurde, sollten Sie überprüfen, ob der isolierte Patch [!DNL VULN-27015] erfolgreich angewendet wurde.

<u>Gehen Sie dazu wie folgt vor, indem Sie die Datei `VULN-27015-2.4.7_COMPOSER.patch` als Beispiel </u> verwenden:

1. [Installieren Sie das Tool &quot;Qualitätsmuster&quot;](https://experienceleague.adobe.com/docs/commerce-operations/tools/quality-patches-tool/usage.html).
1. Führen Sie den Befehl aus:<br>
   ![cve-2024-34102-tell-if-patch-apply-code](assets/cve-2024-34102-tell-if-patch-applied-code.png)

<!--
    ```bash
    vendor/bin/magento-patches -n status |grep "27015\|Status"
    ```
-->

1. Sie sollten die Ausgabe ähnlich der folgenden sehen, bei der VULN-27015 den Status *Angewandt* zurückgibt:

   ```bash
   ║ Id            │ Title                                                        │ Category        │ Origin                 │ Status      │ Details                                          ║ ║ N/A           │ ../m2-hotfixes/VULN-27015-2.4.7_COMPOSER_patch.patch      │ Other           │ Local                  │ Applied     │ Patch type: Custom                                
   ```

## Drehen/ändern Sie den [!UICONTROL encryption key] nach dem Anwenden des Pflasters

Eine Anleitung zum Drehen/Ändern des [!UICONTROL encryption key] nach dem Anwenden des Patches finden Sie im [Handbuch für Admin-Systeme: [!UICONTROL Encryption key]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key)**im Commerce Admin Systems Guide .**

## Zusätzliche Anleitungen zum Schützen Ihres Stores und Wechseln von Verschlüsselungsschlüsseln

Weitere Anleitungen zum Schützen Ihres Stores und Wechseln der Verschlüsselungsschlüssel für [!DNL CVE-2024-34102] finden Sie unter [Anleitung zum Schützen Ihrer Speicher- und Drehschlüsseln: [!DNL CVE-2024-34102]](https://experienceleague.adobe.com/en/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/guidance-on-securing-your-store-and-rotating-encryptionkeys-cve-2024-34102), auch in der Adobe Commerce-Wissensdatenbank.

## Sicherheitsaktualisierungen

Für Adobe Commerce verfügbare Sicherheitsupdates:

* [Fehlerbehebung bei der Verschlüsselungsschlüssel-Rotation: [!DNL CVE-2024-34102]](https://experienceleague.adobe.com/en/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/troubleshooting-encryption-key-rotation-cve-2024-34102)
* [Adobe-Sicherheitsbulletin ([!DNL APSB24-40])](https://helpx.adobe.com/security/products/magento/apsb24-40.html)

## Verwandtes Lesen

[ Aktivieren oder deaktivieren Sie [!UICONTROL maintenance mode]](https://experienceleague.adobe.com/en/docs/commerce-operations/installation-guide/tutorials/maintenance-mode) im Adobe Commerce-Installationshandbuch